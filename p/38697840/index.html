<!DOCTYPE html><html><head><meta charset="utf-8"><title>Kafka基础 | 曹耘豪的博客</title><meta name="viewport" content="width=device-width,initial-scale=1,maximum-scale=1"><link rel="alternate" href="/atom.xml" title="曹耘豪的博客" type="application/atom+xml"><link rel="icon" href="https://s1.ax1x.com/2018/06/09/CbgQqs.png"><link rel="stylesheet" href="/css/style.css"><meta name="generator" content="Hexo 7.3.0"></head><body><div id="header2" style="border-bottom:1px solid #ccc"><input type="checkbox" id="header-menu-input"><h1 style="text-align:left"><a href="/">曹耘豪的博客</a> <label for="header-menu-input"><svg class="op open" xmlns="http://www.w3.org/2000/svg" x="0px" y="0px" width="24" height="24" viewBox="0 0 50 50" fill="currentcolor" stroke="currentcolor"><path d="M 0 7.5 L 0 12.5 L 50 12.5 L 50 7.5 Z M 0 22.5 L 0 27.5 L 50 27.5 L 50 22.5 Z M 0 37.5 L 0 42.5 L 50 42.5 L 50 37.5 Z"></path></svg> <svg class="close" xmlns="http://www.w3.org/2000/svg" x="0px" y="0px" width="24" height="24" viewBox="0 0 30 30" style="fill:red"><path d="M 7 4 C 6.744125 4 6.4879687 4.0974687 6.2929688 4.2929688 L 4.2929688 6.2929688 C 3.9019687 6.6839688 3.9019687 7.3170313 4.2929688 7.7070312 L 11.585938 15 L 4.2929688 22.292969 C 3.9019687 22.683969 3.9019687 23.317031 4.2929688 23.707031 L 6.2929688 25.707031 C 6.6839688 26.098031 7.3170313 26.098031 7.7070312 25.707031 L 15 18.414062 L 22.292969 25.707031 C 22.682969 26.098031 23.317031 26.098031 23.707031 25.707031 L 25.707031 23.707031 C 26.098031 23.316031 26.098031 22.682969 25.707031 22.292969 L 18.414062 15 L 25.707031 7.7070312 C 26.098031 7.3170312 26.098031 6.6829688 25.707031 6.2929688 L 23.707031 4.2929688 C 23.316031 3.9019687 22.682969 3.9019687 22.292969 4.2929688 L 15 11.585938 L 7.7070312 4.2929688 C 7.5115312 4.0974687 7.255875 4 7 4 z"></path></svg></label> <input disabled id="local-search-input" class="input-text" type="search" placeholder="js未开启，无法搜索" aria-label="Search"></h1><div id="local-search-result"></div><div class="header-menu" for="header-menu-input"><aside id="sidebar"><div><div class="widget-wrap widget-category"><h3 class="widget-title">目录</h3><div class="widget"><ul class="category-list"><li class="category-list-item"><a class="category-list-link" href="/category/other/">其他</a><span class="category-list-count">4</span></li><li class="category-list-item"><a class="category-list-link" href="/category/technology/">技术</a><span class="category-list-count">137</span><ul class="category-list-child"><li class="category-list-item"><a class="category-list-link" href="/category/technology/cpp/">C++</a><span class="category-list-count">1</span></li><li class="category-list-item"><a class="category-list-link" href="/category/technology/Go/">Go</a><span class="category-list-count">2</span></li><li class="category-list-item"><a class="category-list-link" href="/category/technology/java/">Java</a><span class="category-list-count">59</span></li><li class="category-list-item"><a class="category-list-link" href="/category/technology/python/">Python</a><span class="category-list-count">5</span></li><li class="category-list-item"><a class="category-list-link" href="/category/technology/Rust/">Rust</a><span class="category-list-count">4</span></li><li class="category-list-item"><a class="category-list-link" href="/category/technology/%E5%88%86%E5%B8%83%E5%BC%8F/">分布式</a><span class="category-list-count">5</span></li><li class="category-list-item"><a class="category-list-link" href="/category/technology/%E5%89%8D%E7%AB%AF/">前端</a><span class="category-list-count">13</span></li><li class="category-list-item"><a class="category-list-link" href="/category/technology/%E6%95%B0%E6%8D%AE%E5%BA%93/">数据库</a><span class="category-list-count">12</span></li><li class="category-list-item"><a class="category-list-link" href="/category/technology/machine-learning/">机器学习</a><span class="category-list-count">3</span></li><li class="category-list-item"><a class="category-list-link" href="/category/technology/computer-network/">计算机网络</a><span class="category-list-count">4</span></li><li class="category-list-item"><a class="category-list-link" href="/category/technology/design-pattern/">设计模式</a><span class="category-list-count">6</span></li><li class="category-list-item"><a class="category-list-link" href="/category/technology/%E8%AF%B4%E8%AF%B4/">说说</a><span class="category-list-count">4</span></li><li class="category-list-item"><a class="category-list-link" href="/category/technology/%E8%BF%90%E7%BB%B4/">运维</a><span class="category-list-count">13</span></li></ul></li><li class="category-list-item"><a class="category-list-link" href="/category/algorithm/">算法</a><span class="category-list-count">8</span></li></ul></div></div><div class="widget-wrap"><h3 class="widget-title">标签</h3><div class="widget"><ul class="tag-list" itemprop="keywords"><li class="tag-list-item"><a class="tag-list-link" href="/tags/mysql/" rel="tag">MySQL</a><span class="tag-list-count">9</span></li><li class="tag-list-item"><a class="tag-list-link" href="/tags/Protobuf/" rel="tag">Protobuf</a><span class="tag-list-count">1</span></li><li class="tag-list-item"><a class="tag-list-link" href="/tags/Spring-Cloud/" rel="tag">Spring Cloud</a><span class="tag-list-count">2</span></li><li class="tag-list-item"><a class="tag-list-link" href="/tags/Feign/" rel="tag">Feign</a><span class="tag-list-count">2</span></li><li class="tag-list-item"><a class="tag-list-link" href="/tags/%E9%9D%A2%E8%AF%95/" rel="tag">面试</a><span class="tag-list-count">21</span></li><li class="tag-list-item"><a class="tag-list-link" href="/tags/%E9%97%AE%E9%A2%98%E6%8E%92%E6%9F%A5/" rel="tag">问题排查</a><span class="tag-list-count">5</span></li><li class="tag-list-item"><a class="tag-list-link" href="/tags/React/" rel="tag">React</a><span class="tag-list-count">3</span></li><li class="tag-list-item"><a class="tag-list-link" href="/tags/Nextjs/" rel="tag">Nextjs</a><span class="tag-list-count">1</span></li><li class="tag-list-item"><a class="tag-list-link" href="/tags/spring/" rel="tag">Spring</a><span class="tag-list-count">20</span></li><li class="tag-list-item"><a class="tag-list-link" href="/tags/jvm/" rel="tag">JVM</a><span class="tag-list-count">1</span></li><li class="tag-list-item"><a class="tag-list-link" href="/tags/%E4%BB%A3%E7%90%86/" rel="tag">代理</a><span class="tag-list-count">1</span></li><li class="tag-list-item"><a class="tag-list-link" href="/tags/Kafka/" rel="tag">Kafka</a><span class="tag-list-count">1</span></li><li class="tag-list-item"><a class="tag-list-link" href="/tags/Gradle/" rel="tag">Gradle</a><span class="tag-list-count">5</span></li><li class="tag-list-item"><a class="tag-list-link" href="/tags/Maven/" rel="tag">Maven</a><span class="tag-list-count">1</span></li><li class="tag-list-item"><a class="tag-list-link" href="/tags/fastjson/" rel="tag">fastjson</a><span class="tag-list-count">1</span></li><li class="tag-list-item"><a class="tag-list-link" href="/tags/nginx/" rel="tag">nginx</a><span class="tag-list-count">1</span></li><li class="tag-list-item"><a class="tag-list-link" href="/tags/node/" rel="tag">node</a><span class="tag-list-count">1</span></li><li class="tag-list-item"><a class="tag-list-link" href="/tags/npm/" rel="tag">npm</a><span class="tag-list-count">1</span></li><li class="tag-list-item"><a class="tag-list-link" href="/tags/%E7%BC%93%E5%AD%98/" rel="tag">缓存</a><span class="tag-list-count">2</span></li><li class="tag-list-item"><a class="tag-list-link" href="/tags/Redis/" rel="tag">Redis</a><span class="tag-list-count">1</span></li><li class="tag-list-item"><a class="tag-list-link" href="/tags/Mybatis/" rel="tag">Mybatis</a><span class="tag-list-count">3</span></li><li class="tag-list-item"><a class="tag-list-link" href="/tags/redis/" rel="tag">redis</a><span class="tag-list-count">1</span></li><li class="tag-list-item"><a class="tag-list-link" href="/tags/Hive/" rel="tag">Hive</a><span class="tag-list-count">1</span></li><li class="tag-list-item"><a class="tag-list-link" href="/tags/%E6%B5%8B%E8%AF%95/" rel="tag">测试</a><span class="tag-list-count">2</span></li><li class="tag-list-item"><a class="tag-list-link" href="/tags/HBase/" rel="tag">HBase</a><span class="tag-list-count">1</span></li><li class="tag-list-item"><a class="tag-list-link" href="/tags/%E5%B9%B6%E5%8F%91/" rel="tag">并发</a><span class="tag-list-count">1</span></li><li class="tag-list-item"><a class="tag-list-link" href="/tags/%E5%93%8D%E5%BA%94%E5%BC%8F%E7%BC%96%E7%A8%8B/" rel="tag">响应式编程</a><span class="tag-list-count">1</span></li><li class="tag-list-item"><a class="tag-list-link" href="/tags/Git/" rel="tag">Git</a><span class="tag-list-count">1</span></li></ul></div></div><div class="widget-wrap"><h3 class="widget-title">其他</h3><div class="widget"><a href="/atom.xml">RSS Feed </a><a href="/resume" style="margin-left:8px">Resume</a></div></div></div></aside></div><script src="/js/search.js"></script><script type="text/javascript">(()=>{var e="local-search-input",a=(($input=document.getElementById(e)).disabled=!1,$input.placeholder="全站本地搜索","search.json"),a="/"+(a=0===a.length?"search.json":a);searchFunc(a,e,"local-search-result")})()</script></div><article id="post-38697840" class="article article-type-post" itemscope itemprop="blogPost" style="position:relative"><header><h1 class="article-title" itemprop="name">Kafka基础</h1></header><div class="secondary-bg" style="border:1px solid gray;border-radius:4px"><ol class="toc-nav"><li class="toc-nav-item toc-nav-level-2"><a class="toc-nav-link" href="#%E6%9C%8D%E5%8A%A1%E7%AB%AF"><span class="toc-nav-text">服务端</span></a><ol class="toc-nav-child"><li class="toc-nav-item toc-nav-level-3"><a class="toc-nav-link" href="#%E6%B3%A8%E5%86%8C"><span class="toc-nav-text">注册</span></a></li><li class="toc-nav-item toc-nav-level-3"><a class="toc-nav-link" href="#%E5%A4%9A%E5%89%AF%E6%9C%AC%EF%BC%88Replica%EF%BC%89"><span class="toc-nav-text">多副本（Replica）</span></a><ol class="toc-nav-child"><li class="toc-nav-item toc-nav-level-4"><a class="toc-nav-link" href="#ISR%EF%BC%88In-sync-replicas%EF%BC%89"><span class="toc-nav-text">ISR（In-sync replicas）</span></a></li><li class="toc-nav-item toc-nav-level-4"><a class="toc-nav-link" href="#HW%EF%BC%88High-Watermark%EF%BC%89"><span class="toc-nav-text">HW（High Watermark）</span></a></li><li class="toc-nav-item toc-nav-level-4"><a class="toc-nav-link" href="#%E5%90%8C%E6%AD%A5%E6%9C%BA%E5%88%B6"><span class="toc-nav-text">同步机制</span></a></li></ol></li><li class="toc-nav-item toc-nav-level-3"><a class="toc-nav-link" href="#%E6%97%A5%E5%BF%97"><span class="toc-nav-text">日志</span></a><ol class="toc-nav-child"><li class="toc-nav-item toc-nav-level-4"><a class="toc-nav-link" href="#%E6%97%A5%E5%BF%97%E6%B8%85%E9%99%A4"><span class="toc-nav-text">日志清除</span></a></li><li class="toc-nav-item toc-nav-level-4"><a class="toc-nav-link" href="#%E6%97%A5%E5%BF%97Compact"><span class="toc-nav-text">日志Compact</span></a></li></ol></li><li class="toc-nav-item toc-nav-level-3"><a class="toc-nav-link" href="#Controller"><span class="toc-nav-text">Controller</span></a></li></ol></li><li class="toc-nav-item toc-nav-level-2"><a class="toc-nav-link" href="#%E5%AE%A2%E6%88%B7%E7%AB%AF"><span class="toc-nav-text">客户端</span></a><ol class="toc-nav-child"><li class="toc-nav-item toc-nav-level-3"><a class="toc-nav-link" href="#Producer"><span class="toc-nav-text">Producer</span></a><ol class="toc-nav-child"><li class="toc-nav-item toc-nav-level-4"><a class="toc-nav-link" href="#%E5%9F%BA%E6%9C%AC%E5%8A%9F%E8%83%BD"><span class="toc-nav-text">基本功能</span></a></li><li class="toc-nav-item toc-nav-level-4"><a class="toc-nav-link" href="#%E9%87%8D%E8%A6%81%E5%8F%82%E6%95%B0"><span class="toc-nav-text">重要参数</span></a></li><li class="toc-nav-item toc-nav-level-4"><a class="toc-nav-link" href="#%E5%88%86%E5%8C%BA%E5%88%86%E9%85%8D%E7%AD%96%E7%95%A5"><span class="toc-nav-text">分区分配策略</span></a></li><li class="toc-nav-item toc-nav-level-4"><a class="toc-nav-link" href="#%E5%B9%82%E7%AD%89%E5%8A%9F%E8%83%BD%EF%BC%880-11-0-0%EF%BC%89"><span class="toc-nav-text">幂等功能（0.11.0.0）</span></a></li></ol></li><li class="toc-nav-item toc-nav-level-3"><a class="toc-nav-link" href="#Consumer"><span class="toc-nav-text">Consumer</span></a><ol class="toc-nav-child"><li class="toc-nav-item toc-nav-level-4"><a class="toc-nav-link" href="#offset"><span class="toc-nav-text">offset</span></a></li><li class="toc-nav-item toc-nav-level-4"><a class="toc-nav-link" href="#%E5%8F%8D%E5%BA%8F%E5%88%97%E5%8C%96"><span class="toc-nav-text">反序列化</span></a></li><li class="toc-nav-item toc-nav-level-4"><a class="toc-nav-link" href="#Consumer-Group%E7%9A%84rebalance"><span class="toc-nav-text">Consumer Group的rebalance</span></a><ol class="toc-nav-child"><li class="toc-nav-item toc-nav-level-5"><a class="toc-nav-link" href="#%E8%A7%A6%E5%8F%91%E6%97%B6%E6%9C%BA"><span class="toc-nav-text">触发时机</span></a></li><li class="toc-nav-item toc-nav-level-5"><a class="toc-nav-link" href="#%E5%88%86%E9%85%8D%E7%AD%96%E7%95%A5"><span class="toc-nav-text">分配策略</span></a></li></ol></li></ol></li><li class="toc-nav-item toc-nav-level-3"><a class="toc-nav-link" href="#%E5%A6%82%E4%BD%95%E4%BF%9D%E8%AF%81%E6%B6%88%E6%81%AF%E4%B8%8D%E4%B8%A2%E5%A4%B1"><span class="toc-nav-text">如何保证消息不丢失</span></a><ol class="toc-nav-child"><li class="toc-nav-item toc-nav-level-4"><a class="toc-nav-link" href="#producer%E9%85%8D%E7%BD%AE"><span class="toc-nav-text">producer配置</span></a></li><li class="toc-nav-item toc-nav-level-4"><a class="toc-nav-link" href="#consumer%E9%85%8D%E7%BD%AE"><span class="toc-nav-text">consumer配置</span></a></li></ol></li></ol></li></ol></div><span id="more"></span><h2 id="服务端"><a href="#服务端" class="headerlink" title="服务端"></a>服务端</h2><blockquote><p>下载地址：<a href="https://kafka.apache.org/downloads">https://kafka.apache.org/downloads</a></p></blockquote><h3 id="注册"><a href="#注册" class="headerlink" title="注册"></a>注册</h3><p>broker向ZK注册：$chroot&#x2F;brokers&#x2F;ids&#x2F;{broker.id}</p><h3 id="多副本（Replica）"><a href="#多副本（Replica）" class="headerlink" title="多副本（Replica）"></a>多副本（Replica）</h3><p>每个分区有多个副本。一个是leader，其他是follower，follower只能被动的向leader请求同步数据，不提供读写服务</p><ul><li>虽然不支持读写分离，但kafka通过多分区做到负载均衡（每个分区leader在不同的broker上）</li></ul><h4 id="ISR（In-sync-replicas）"><a href="#ISR（In-sync-replicas）" class="headerlink" title="ISR（In-sync replicas）"></a>ISR（In-sync replicas）</h4><p>只有ISR集合内的follower才有资格竞选leader，和leader保持相同的HW</p><figure class="highlight plaintext"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br></pre></td><td class="code"><pre><span class="line">0  1  2  3  4  5  6  7  8  9  10  11  12  13</span><br><span class="line">|                 |                               |</span><br><span class="line">base offset       high watermark(HW)       log end offset(LEO)</span><br></pre></td></tr></table></figure><h4 id="HW（High-Watermark）"><a href="#HW（High-Watermark）" class="headerlink" title="HW（High Watermark）"></a>HW（High Watermark）</h4><ul><li>leader的HW：决定了消费可见性，消费者只能消费HW之前的消息。leader的HW的值取所有副本通过FetchRequest上报的最小值</li><li>副本的HW：已同步的offset</li></ul><h4 id="同步机制"><a href="#同步机制" class="headerlink" title="同步机制"></a>同步机制</h4><ul><li>副本一直向leader发Fetch请求，如果leader有数据则立即返回，如果没有，则最多等待<code>replica.fetch.wait.max.ms</code>，默认500ms</li><li>如果leader没有数据，副本会等待<code>fetch.max.wait.ms</code>后再次拉取，默认500ms</li><li>副本在FetchRequest里上报自己的LEO和HW<ul><li>副本同步成功后，将在下一次FetchRequest上报自己的HW给leader，这会导致HW在一个周期内的不一致</li></ul></li></ul><h3 id="日志"><a href="#日志" class="headerlink" title="日志"></a>日志</h3><p>以partition为单位，每个partition有自己的日志（partition log），如果topic名为test，则其第0个分区的文件目录类似如下：</p><figure class="highlight plaintext"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br></pre></td><td class="code"><pre><span class="line">&gt; ls xxx/kafka_1/test-0</span><br><span class="line">00000.index</span><br><span class="line">00000.log // 真实kafka记录</span><br><span class="line">00000.timeindex</span><br><span class="line">01000.log  // 文件命名为第一条记录的offset，也就是说00000.log文件里包含1000个记录（0-999）</span><br><span class="line">01000.timeindex</span><br></pre></td></tr></table></figure><ul><li>.log文件命名为第一条记录的offset，也就是说00000.log文件里包含1000个记录（0-999）</li><li>.index是位移索引文件，.timeindex是时间戳索引文件，二者都是稀疏索引</li></ul><h4 id="日志清除"><a href="#日志清除" class="headerlink" title="日志清除"></a>日志清除</h4><ul><li>基于时间</li><li>基于大小</li><li>基于偏移量</li></ul><h4 id="日志Compact"><a href="#日志Compact" class="headerlink" title="日志Compact"></a>日志Compact</h4><p>对于一个partition内的相同key的记录，仅保存最新的值，没有key的无法compact</p><ul><li>compact不会变更offset</li></ul><h3 id="Controller"><a href="#Controller" class="headerlink" title="Controller"></a>Controller</h3><p>某个broker会被选举成为controller，用于管理每个broker上的分区副本和每个分区的leader副本信息</p><h2 id="客户端"><a href="#客户端" class="headerlink" title="客户端"></a>客户端</h2><blockquote><p>Gradle配置：org.apache.kafka:kafka-clients:3.4.0</p></blockquote><h3 id="Producer"><a href="#Producer" class="headerlink" title="Producer"></a>Producer</h3><h4 id="基本功能"><a href="#基本功能" class="headerlink" title="基本功能"></a>基本功能</h4><ol><li>序列化</li><li>分区<ul><li>如果没有设置partition，则轮询（<code>peekCurrentPartitionInfo</code>）</li><li>如果有Key，则使用<code>murmur2</code>算法计算hash值</li><li>自定义</li></ul></li><li>拦截器<ul><li>Properties配置项：<code>interceptor.classes</code></li><li>接口：<code>ProducerInterceptor</code></li><li><code>onSend</code>：发送前调用</li><li><code>onAcknowledgement</code>：broker返回后调用</li><li><code>close</code>：执行一些清理动作</li></ul></li><li>压缩<ul><li>GZIP</li><li>Snappy</li><li>LZ4</li><li>Zstd</li></ul></li><li>Sender发送<ul><li>将消息放入缓冲区，由IO线程发送</li><li>收到response后，依次调用回调方法</li></ul></li></ol><h4 id="重要参数"><a href="#重要参数" class="headerlink" title="重要参数"></a>重要参数</h4><ul><li><code>acks</code>：多少副本写入成功才返回，取值<code>-1/all</code>，<code>0</code>，<code>1</code></li><li><code>retires</code>：重试次数</li><li><code>batch.size</code>：同一分区的缓冲区大小</li><li><code>linger.ms</code>：缓冲区未满情况下的发送间隔</li></ul><h4 id="分区分配策略"><a href="#分区分配策略" class="headerlink" title="分区分配策略"></a>分区分配策略</h4><ul><li>Range：平均分配</li><li>RoundRobin：将消费组和主题分区排序，依次分配。如果消费组的信息是相同的，那么没问题</li><li>Sticky：均衡、粘性</li></ul><h4 id="幂等功能（0-11-0-0）"><a href="#幂等功能（0-11-0-0）" class="headerlink" title="幂等功能（0.11.0.0）"></a>幂等功能（0.11.0.0）</h4><ul><li>session级别、分区级别</li><li>依靠productid和seq保证，两个参数都由kafka管理</li><li>自动配置: <code>acks=all,retries=Integer.MAX_VALUE,max.in.flight.requests.per.connection=1</code></li></ul><h3 id="Consumer"><a href="#Consumer" class="headerlink" title="Consumer"></a>Consumer</h3><h4 id="offset"><a href="#offset" class="headerlink" title="offset"></a>offset</h4><p>消费的offset保存在<code>__consumer_offsets</code> topic下</p><p>offset的维度：每个独立的consumer或者Consumer Group，在每个topic的partition上有一个offset</p><ul><li>独立consumer或者Consumer Group的group.id</li><li>topic</li><li>partition</li></ul><h4 id="反序列化"><a href="#反序列化" class="headerlink" title="反序列化"></a>反序列化</h4><p><code>org.apache.kafka.clients.consumer.internals.Fetcher#parseRecord</code></p><h4 id="Consumer-Group的rebalance"><a href="#Consumer-Group的rebalance" class="headerlink" title="Consumer Group的rebalance"></a>Consumer Group的rebalance</h4><h5 id="触发时机"><a href="#触发时机" class="headerlink" title="触发时机"></a>触发时机</h5><ul><li>Consumer Group有组成员变更，离开或加入</li><li>topic订阅数变化，比如使用正则订阅的</li><li>topic partition数变化</li></ul><h5 id="分配策略"><a href="#分配策略" class="headerlink" title="分配策略"></a>分配策略</h5><ul><li>range：固定范围分配</li><li>round-robin：轮询分配</li><li>sticky：有粘性的分配，最大限度地维持之前的分配方案</li></ul><h3 id="如何保证消息不丢失"><a href="#如何保证消息不丢失" class="headerlink" title="如何保证消息不丢失"></a>如何保证消息不丢失</h3><h4 id="producer配置"><a href="#producer配置" class="headerlink" title="producer配置"></a>producer配置</h4><ul><li><code>acks=all</code>，确保所有副本都处理成功</li><li><code>retries</code>，合理的重试次数</li></ul><h4 id="consumer配置"><a href="#consumer配置" class="headerlink" title="consumer配置"></a>consumer配置</h4><ul><li>手动提交。处理成功后再提交offset</li><li>监听rebalance，rebalance时提交当前处理成功的偏移量</li></ul><div style="border-top:2px solid #eee;height:1px;margin:8px 0"></div><div class="article-category"><svg class="i-tag" width="16px" height="16px" viewBox="0 0 24 24" fill="currentcolor" xmlns="http://www.w3.org/2000/svg"><path fill-rule="evenodd" clip-rule="evenodd" d="M5.41959 3.23866C6.23018 3.05852 7.19557 3 8.312 3H9.92963C10.9327 3 11.8694 3.5013 12.4258 4.3359L13.2383 5.5547C13.4238 5.83288 13.736 6 14.0704 6H19.1258C20.7233 6 22.0181 7.26115 22.0029 8.8852C21.9847 10.8192 22 12.7539 22 14.688C22 15.8044 21.9415 16.7698 21.7613 17.5804C21.5787 18.4024 21.2579 19.1251 20.6915 19.6915C20.1251 20.2579 19.4024 20.5787 18.5804 20.7613C17.7698 20.9415 16.8044 21 15.688 21H8.312C7.19557 21 6.23018 20.9415 5.41959 20.7613C4.59764 20.5787 3.87488 20.2579 3.30848 19.6915C2.74209 19.1251 2.42133 18.4024 2.23866 17.5804C2.05852 16.7698 2 15.8044 2 14.688V9.312C2 8.19557 2.05852 7.23018 2.23866 6.41959C2.42133 5.59764 2.74209 4.87488 3.30848 4.30848C3.87488 3.74209 4.59764 3.42133 5.41959 3.23866ZM8.19103 13.8535C8.05868 14.449 8 15.2412 8 16.312V18C8 18.5523 7.55228 19 7 19C6.44772 19 6 18.5523 6 18V16.312C6 15.1956 6.05852 14.2302 6.23866 13.4196C6.42133 12.5976 6.74209 11.8749 7.30848 11.3085C7.87488 10.7421 8.59764 10.4213 9.41959 10.2387C10.2302 10.0585 11.1956 10 12.312 10H17.688H19C19.5523 10 20 10.4477 20 11C20 11.5523 19.5523 12 19 12H17.688H12.312C11.2412 12 10.449 12.0587 9.85349 12.191C9.26933 12.3209 8.9375 12.5079 8.72269 12.7227C8.50789 12.9375 8.32085 13.2693 8.19103 13.8535Z"/></svg> &nbsp; <a class="article-category-link" href="/category/technology/">技术</a>&nbsp;/&nbsp;<a class="article-category-link" href="/category/technology/%E6%95%B0%E6%8D%AE%E5%BA%93/">数据库</a></div><div class="article-tag"><svg class="i-tag" width="16" height="16" viewBox="0 0 24 24" fill="currentcolor" xmlns="http://www.w3.org/2000/svg"><path fill-rule="evenodd" clip-rule="evenodd" d="M2.678 11.422a2.5 2.5 0 0 0 0 3.536l6.364 6.364a2.5 2.5 0 0 0 3.536 0l7.69-7.69A2.5 2.5 0 0 0 21 11.864V4.5A1.5 1.5 0 0 0 19.5 3h-7.365a2.5 2.5 0 0 0-1.768.732l-7.69 7.69zM14.988 7C13.878 7 13 7.832 13 8.988c0 1.157.878 2.012 1.988 2.012C16.121 11 17 10.145 17 8.988 17 7.832 16.12 7 14.988 7z"/></svg> &nbsp; <a class="article-tag-link" href="/tags/Kafka/" rel="tag">Kafka</a>, <a class="article-tag-link" href="/tags/%E9%9D%A2%E8%AF%95/" rel="tag">面试</a></div><div class="article-date"><time datetime="2023-03-07T02:00:00.000Z" itemprop="datePublished">2023-03-07</time></div></article></body></html>